---
import Card from './Card.astro';
---
<section class="todo-list-section">
  <div class="card-container">
    <div class="card-list-header">
      <h2>Todo</h2>
      <p class="AddTodo">+</p>
    </div>
     <div id="todo-list"></div> 
     <div>
  </div>
  </div>
  <div class="card-container">
    <div class="card-list-header">
      <h2>In progress</h2>
         <p class="AddInProgress">+</p>
    </div>
   <div id="list-inprogress"></div> 
  </div>
  <div class="card-container">
    <div class="card-list-header">
      <h2>Done</h2>
        <p class="AddDone">+</p>
    </div>
    <div id="list-done"></div>
  </div>
</section>

<style>
  .todo-list-section{
    display: flex;
    justify-content: center;
    margin-left: 20px;
    margin-right:20px;
    min-height: 300px;
  }
  .card-list-header{
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .todo-list-section p{
    font-size: 30px;
  }
</style>

<script>
import { taskList } from '../index.ts'

taskList.renderTasks();

function handleAddClick(status:string) {
  const newTask ={
    id:0,
    title:"test",
    description:"test",
    status:status
  }

  taskList.addTask(newTask)
}

document.querySelector(".AddTodo")?.addEventListener('click', () => handleAddClick("Todo"));
document.querySelector(".AddInProgress")?.addEventListener('click', () => handleAddClick("Inprogress"));
document.querySelector(".AddDone")?.addEventListener('click', () => handleAddClick("Done"));
</script>
